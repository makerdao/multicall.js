var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.version="4.0.27"}));e(n);var i=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.MISSING_NEW="MISSING_NEW",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.NUMERIC_FAULT="NUMERIC_FAULT",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION";var r=!1,i=!1;function o(t,r,o){if(i)throw Error("unknown error");r||(r=e.UNKNOWN_ERROR),o||(o={});var a=[];Object.keys(o).forEach((function(t){try{a.push(t+"="+JSON.stringify(o[t]))}catch(e){a.push(t+"="+JSON.stringify(""+o[t]))}})),a.push("version="+n.version);var s=t;a.length&&(t+=" ("+a.join(", ")+")");var u=Error(t);throw u.reason=s,u.code=r,Object.keys(o).forEach((function(t){u[t]=o[t]})),u}e.throwError=o,e.checkNew=function(t,r){t instanceof r||o("missing new",e.MISSING_NEW,{name:r.name})},e.checkArgumentCount=function(t,r,n){n||(n=""),r>t&&o("missing argument"+n,e.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&o("too many arguments"+n,e.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})},e.setCensorship=function(t,n){r&&o("error censorship permanent",e.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i=!!t,r=!!n},e.checkNormalize=function(){try{if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{"test".normalize(t)}catch(e){throw Error("missing "+t)}})),"é"!=="é".normalize("NFD"))throw Error("broken implementation")}catch(t){o("platform missing String.prototype.normalize",e.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:t.message})}};var a={debug:1,default:2,info:2,warn:3,error:4,off:5},s=a.default;function u(t,e){s>a[t]||console.log.apply(console,e)}function h(){for(var t=[],e=0;arguments.length>e;e++)t[e]=arguments[e];u("warn",t)}e.setLogLevel=function(t){var e=a[t];null!=e?s=e:h("invliad log level - "+t)},e.warn=h,e.info=function(){for(var t=[],e=0;arguments.length>e;e++)t[e]=arguments[e];u("info",t)}}));e(i);var o=r((function(e,r){var n=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(r,"__esModule",{value:!0});var o=n(i);function a(t){return!!t.toHexString}function s(t){return t.slice?t:(t.slice=function(){var e=Array.prototype.slice.call(arguments);return s(new Uint8Array(Array.prototype.slice.apply(t,e)))},t)}function u(t){if(!t||parseInt(t.length+"")!=t.length||"string"==typeof t)return!1;for(var e=0;t.length>e;e++){var r=t[e];if(0>r||r>=256||parseInt(r+"")!=r)return!1}return!0}function h(t){if(null==t&&o.throwError("cannot convert null value to array",o.INVALID_ARGUMENT,{arg:"value",value:t}),a(t)&&(t=t.toHexString()),"string"==typeof t){var e=t.match(/^(0x)?[0-9a-fA-F]*$/);e||o.throwError("invalid hexidecimal string",o.INVALID_ARGUMENT,{arg:"value",value:t}),"0x"!==e[1]&&o.throwError("hex string must have 0x prefix",o.INVALID_ARGUMENT,{arg:"value",value:t}),(t=t.substring(2)).length%2&&(t="0"+t);for(var r=[],n=0;t.length>n;n+=2)r.push(parseInt(t.substr(n,2),16));return s(new Uint8Array(r))}return u(t)?s(new Uint8Array(t)):(o.throwError("invalid arrayify value",null,{arg:"value",value:t,type:typeof t}),null)}function l(t){for(var e=[],r=0,n=0;t.length>n;n++){var i=h(t[n]);e.push(i),r+=i.length}var o=new Uint8Array(r),a=0;for(n=0;e.length>n;n++)o.set(e[n],a),a+=e[n].length;return s(o)}function f(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}r.isHexable=a,r.isArrayish=u,r.arrayify=h,r.concat=l,r.stripZeros=function(t){var e=h(t);if(0===e.length)return e;for(var r=0;0===e[r];)r++;return r&&(e=e.slice(r)),e},r.padZeros=function(t,e){if((t=h(t)).length>e)throw Error("cannot pad");var r=new Uint8Array(e);return r.set(t,e-t.length),s(r)},r.isHexString=f;function c(t){if(a(t))return t.toHexString();if("number"==typeof t){0>t&&o.throwError("cannot hexlify negative value",o.INVALID_ARGUMENT,{arg:"value",value:t}),9007199254740991>t||o.throwError("out-of-range",o.NUMERIC_FAULT,{operartion:"hexlify",fault:"out-of-safe-range"});for(var e="";t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("string"==typeof t){var r=t.match(/^(0x)?[0-9a-fA-F]*$/);return r||o.throwError("invalid hexidecimal string",o.INVALID_ARGUMENT,{arg:"value",value:t}),"0x"!==r[1]&&o.throwError("hex string must have 0x prefix",o.INVALID_ARGUMENT,{arg:"value",value:t}),t.length%2&&(t="0x0"+t.substring(2)),t}if(u(t)){for(var n=[],i=0;t.length>i;i++){var s=t[i];n.push("0123456789abcdef"[(240&s)>>4]+"0123456789abcdef"[15&s])}return"0x"+n.join("")}return o.throwError("invalid hexlify value",null,{arg:"value",value:t}),"never"}function d(t,e){for(f(t)||o.throwError("invalid hex string",o.INVALID_ARGUMENT,{arg:"value",value:t});2*e+2>t.length;)t="0x0"+t.substring(2);return t}function p(t){var e,r=0,n="0x",i="0x";if((e=t)&&null!=e.r&&null!=e.s){null==t.v&&null==t.recoveryParam&&o.throwError("at least on of recoveryParam or v must be specified",o.INVALID_ARGUMENT,{argument:"signature",value:t}),n=d(t.r,32),i=d(t.s,32),"string"==typeof(r=t.v)&&(r=parseInt(r,16));var a=t.recoveryParam;null==a&&null!=t.v&&(a=1-r%2),r=27+a}else{var s=h(t);if(65!==s.length)throw Error("invalid signature");n=c(s.slice(0,32)),i=c(s.slice(32,64)),27!==(r=s[64])&&28!==r&&(r=27+r%2)}return{r:n,s:i,recoveryParam:r-27,v:r}}r.hexlify=c,r.hexDataLength=function(t){return f(t)&&t.length%2==0?(t.length-2)/2:null},r.hexDataSlice=function(t,e,r){return f(t)||o.throwError("invalid hex data",o.INVALID_ARGUMENT,{arg:"value",value:t}),t.length%2!=0&&o.throwError("hex data length must be even",o.INVALID_ARGUMENT,{arg:"value",value:t}),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)},r.hexStripZeros=function(t){for(f(t)||o.throwError("invalid hex string",o.INVALID_ARGUMENT,{arg:"value",value:t});t.length>3&&"0x0"===t.substring(0,3);)t="0x"+t.substring(3);return t},r.hexZeroPad=d,r.splitSignature=p,r.joinSignature=function(t){return c(l([(t=p(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}}));e(o);var a,s=(a=Object.freeze({__proto__:null,default:{}}))&&a.default||a,u=r((function(e){!function(t,e){function r(t,e){if(!t)throw Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o=s.Buffer}catch(t){}function a(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;i>o;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=49>a||a>54?17>a||a>22?15&a:a-17+10:a-49+10}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;o>a;a++){var s=t.charCodeAt(a)-48;i*=n,i+=49>s?17>s?s:s-17+10:s-49+10}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return 0>t.cmp(e)?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&36>=e);var i=0;"-"===(t=(""+t).replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initNumber=function(t,e,n){0>t&&(this.negative=1,t=-t),67108864>t?(this.words=[67108863&t],this.length=1):4503599627370496>t?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(9007199254740992>t),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),0>=t.length)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=Array(this.length);for(var i=0;this.length>i;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)this.words[o]|=(a=t[i]|t[i-1]<<8|t[i-2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,26>(s+=24)||(s-=26,o++);else if("le"===n)for(i=0,o=0;t.length>i;i+=3)this.words[o]|=(a=t[i]|t[i+1]<<8|t[i+2]<<16)<<s&67108863,this.words[o+1]=a>>>26-s&67108863,26>(s+=24)||(s-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=Array(this.length);for(var r=0;this.length>r;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=a(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,26>(o+=24)||(o-=26,n++);r+6!==e&&(i=a(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;67108863>=i;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,h=0,l=r;s>l;l+=n)h=u(t,l,l+n,e),this.imuln(i),67108864>this.words[0]+h?this.words[0]+=h:this._iaddn(h);if(0!==a){var f=1;for(h=u(t,l,t.length,e),l=0;a>l;l++)f*=e;this.imuln(f),67108864>this.words[0]+h?this.words[0]+=h:this._iaddn(h)}},i.prototype.copy=function(t){t.words=Array(this.length);for(var e=0;this.length>e;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;t>this.length;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=a/67108864|0;r.words[0]=67108863&a;for(var u=1;n>u;u++){for(var h=s>>>26,l=67108863&s,f=Math.min(u,e.length-1),c=Math.max(0,u-t.length+1);f>=c;c++){h+=(a=(i=0|t.words[u-c|0])*(o=0|e.words[c])+l)/67108864|0,l=67108863&a}r.words[u]=0|l,s=0|h}return 0!==s?r.words[u]=0|s:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;this.length>a;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+n:u+n,26>(i+=2)||(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&36>=t){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:h[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(o>=i,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,h=new t(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),h[s]=a;for(;o>s;s++)h[s]=0}else{for(s=0;o-i>s;s++)h[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),h[o-s-1]=a}return h},i.prototype._countBits=Math.clz32?function(t){return 32-Math.clz32(t)}:function(t){var e=t,r=0;return 4096>e||(r+=13,e>>>=13),64>e||(r+=7,e>>>=7),8>e||(r+=4,e>>>=4),2>e||(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;this.length>e;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;t.length>this.length;)this.words[this.length++]=0;for(var e=0;t.length>e;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;e.length>r;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;r.length>n;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;e.length>n;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;e>i;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;n.length>o;o++)this.words[o]=67108863&(e=(0|r.words[o])+(0|n.words[o])+i),i=e>>>26;for(;0!==i&&r.length>o;o++)this.words[o]=67108863&(e=(0|r.words[o])+i),i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;r.length>o;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;n.length>a;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&r.length>a;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&r.length>a&&r!==this)for(;r.length>a;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,h=0,l=0|a[0],f=8191&l,c=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,v=0|a[2],y=8191&v,g=v>>>13,w=0|a[3],b=8191&w,M=w>>>13,_=0|a[4],E=8191&_,N=_>>>13,A=0|a[5],x=8191&A,C=A>>>13,T=0|a[6],k=8191&T,I=T>>>13,R=0|a[7],F=8191&R,O=R>>>13,S=0|a[8],U=8191&S,P=S>>>13,B=0|a[9],j=8191&B,D=B>>>13,L=0|s[0],G=8191&L,z=L>>>13,V=0|s[1],Z=8191&V,q=V>>>13,H=0|s[2],W=8191&H,$=H>>>13,J=0|s[3],K=8191&J,X=J>>>13,Q=0|s[4],Y=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ht=st>>>13,lt=0|s[8],ft=8191&lt,ct=lt>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var vt=(h+(n=Math.imul(f,G))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(c,G)|0))<<13)|0;h=((o=Math.imul(c,z))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(p,G),i=(i=Math.imul(p,z))+Math.imul(m,G)|0,o=Math.imul(m,z);var yt=(h+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,q)|0)+Math.imul(c,Z)|0))<<13)|0;h=((o=o+Math.imul(c,q)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,G),i=(i=Math.imul(y,z))+Math.imul(g,G)|0,o=Math.imul(g,z),n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,q)|0;var gt=(h+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(c,W)|0))<<13)|0;h=((o=o+Math.imul(c,$)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(b,G),i=(i=Math.imul(b,z))+Math.imul(M,G)|0,o=Math.imul(M,z),n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,q)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,$)|0;var wt=(h+(n=n+Math.imul(f,K)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(c,K)|0))<<13)|0;h=((o=o+Math.imul(c,X)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,G),i=(i=Math.imul(E,z))+Math.imul(N,G)|0,o=Math.imul(N,z),n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,q)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(g,W)|0,o=o+Math.imul(g,$)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,X)|0;var bt=(h+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(c,Y)|0))<<13)|0;h=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(x,G),i=(i=Math.imul(x,z))+Math.imul(C,G)|0,o=Math.imul(C,z),n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,q)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,q)|0,n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,$)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,$)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,X)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,tt)|0;var Mt=(h+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(c,rt)|0))<<13)|0;h=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(k,G),i=(i=Math.imul(k,z))+Math.imul(I,G)|0,o=Math.imul(I,z),n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,q)|0,n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,$)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,$)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(M,K)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var _t=(h+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(c,ot)|0))<<13)|0;h=((o=o+Math.imul(c,at)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(F,G),i=(i=Math.imul(F,z))+Math.imul(O,G)|0,o=Math.imul(O,z),n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,q)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,q)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,$)|0,n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(g,rt)|0,o=o+Math.imul(g,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Et=(h+(n=n+Math.imul(f,ut)|0)|0)+((8191&(i=(i=i+Math.imul(f,ht)|0)+Math.imul(c,ut)|0))<<13)|0;h=((o=o+Math.imul(c,ht)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,G),i=(i=Math.imul(U,z))+Math.imul(P,G)|0,o=Math.imul(P,z),n=n+Math.imul(F,Z)|0,i=(i=i+Math.imul(F,q)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,q)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,$)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,at)|0)+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ht)|0;var Nt=(h+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;h=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(j,G),i=(i=Math.imul(j,z))+Math.imul(D,G)|0,o=Math.imul(D,z),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,q)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,q)|0,n=n+Math.imul(F,W)|0,i=(i=i+Math.imul(F,$)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,$)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(b,ot)|0,i=(i=i+Math.imul(b,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(g,ut)|0,o=o+Math.imul(g,ht)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,ct)|0;var At=(h+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(c,pt)|0))<<13)|0;h=((o=o+Math.imul(c,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,q))+Math.imul(D,Z)|0,o=Math.imul(D,q),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,$)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,$)|0,n=n+Math.imul(F,K)|0,i=(i=i+Math.imul(F,X)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ht)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ht)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(g,ft)|0,o=o+Math.imul(g,ct)|0;var xt=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;h=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,$))+Math.imul(D,W)|0,o=Math.imul(D,$),n=n+Math.imul(U,K)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(F,Y)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ht)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ht)|0,n=n+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Ct=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(g,pt)|0))<<13)|0;h=((o=o+Math.imul(g,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,X))+Math.imul(D,K)|0,o=Math.imul(D,X),n=n+Math.imul(U,Y)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,at)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ht)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ht)|0,n=n+Math.imul(E,ft)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,ct)|0;var Tt=(h+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(M,pt)|0))<<13)|0;h=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,tt))+Math.imul(D,Y)|0,o=Math.imul(D,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(F,ot)|0,i=(i=i+Math.imul(F,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ht)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,ht)|0,n=n+Math.imul(x,ft)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,ct)|0;var kt=(h+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(j,rt),i=(i=Math.imul(j,nt))+Math.imul(D,rt)|0,o=Math.imul(D,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(F,ut)|0,i=(i=i+Math.imul(F,ht)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,ht)|0,n=n+Math.imul(k,ft)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ct)|0;var It=(h+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(j,ot),i=(i=Math.imul(j,at))+Math.imul(D,ot)|0,o=Math.imul(D,at),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ht)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ht)|0,n=n+Math.imul(F,ft)|0,i=(i=i+Math.imul(F,ct)|0)+Math.imul(O,ft)|0,o=o+Math.imul(O,ct)|0;var Rt=(h+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((o=o+Math.imul(I,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(j,ut),i=(i=Math.imul(j,ht))+Math.imul(D,ut)|0,o=Math.imul(D,ht),n=n+Math.imul(U,ft)|0,i=(i=i+Math.imul(U,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Ft=(h+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,mt)|0)+Math.imul(O,pt)|0))<<13)|0;h=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(j,ft),i=(i=Math.imul(j,ct))+Math.imul(D,ft)|0,o=Math.imul(D,ct);var Ot=(h+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(P,pt)|0))<<13)|0;h=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var St=(h+(n=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(D,pt)|0))<<13)|0;return h=((o=Math.imul(D,mt))+(i>>>13)|0)+(St>>>26)|0,St&=67108863,u[0]=vt,u[1]=yt,u[2]=gt,u[3]=wt,u[4]=bt,u[5]=Mt,u[6]=_t,u[7]=Et,u[8]=Nt,u[9]=At,u[10]=xt,u[11]=Ct,u[12]=Tt,u[13]=kt,u[14]=It,u[15]=Rt,u[16]=Ft,u[17]=Ot,u[18]=St,0!==h&&(u[19]=h,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=c),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):63>r?c(this,t,e):1024>r?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;r.length-1>o;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);u>=h;h++){var l=(0|t.words[o-h])*(0|e.words[h]),f=67108863&l;s=67108863&(f=f+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=Array(t),r=i.prototype._countBits(t)-1,n=0;t>n;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;e>i;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var a=0;o>a;a++)n[a]=e[t[a]],i[a]=r[t[a]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;i>a;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),l=0;i>l;l+=s)for(var f=u,c=h,d=0;a>d;d++){var p=r[l+d],m=n[l+d],v=r[l+d+a],y=n[l+d+a],g=f*v-c*y;y=f*y+c*v,r[l+d]=p+(v=g),n[l+d]=m+y,r[l+d+a]=p-v,n[l+d+a]=m-y,d!==s&&(g=u*f-h*c,c=u*c+h*f,f=g)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(r>1)for(var n=0;r/2>n;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;e/2>n;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=67108864>i?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;e>a;a++)n[2*a]=8191&(o+=0|t[a]),n[2*a+1]=8191&(o>>>=13),o>>>=13;for(a=2*e;i>a;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=Array(t),r=0;t>r;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=Array(n),s=Array(n),u=Array(n),h=Array(n),l=Array(n),f=Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,h,n),this.transform(a,o,s,u,n,i),this.transform(h,o,l,f,n,i);for(var d=0;n>d;d++){var p=s[d]*l[d]-u[d]*f[d];u[d]=s[d]*f[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(67108864>t);for(var e=0,n=0;this.length>n;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=Array(t.bitLength()),r=0;e.length>r;r++){var n=r%26;e[r]=(t.words[r/26|0]&1<<n)>>>n}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;e.length>n&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();e.length>n;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;this.length>e;e++){var s=this.words[e]&o;this.words[e]=(0|this.words[e])-s<<n|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;i>e;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i=Math.max(0,i-=a),u){for(var h=0;a>h;h++)u.words[h]=this.words[h];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,h=0;this.length>h;h++)this.words[h]=this.words[h+a];else this.words[0]=0,this.length=1;var l=0;for(h=this.length-1;!(0>h||0===l&&i>h);h--){var f=0|this.words[h];this.words[h]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;return this.length>n&&!!(this.words[n]&1<<e)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),n>=this.length)return this;(0!==e&&n++,this.length=Math.min(n,this.length),0!==e)&&(this.words[this.length-1]&=67108863^67108863>>>e<<e);return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(67108864>t),0>t?this.isubn(-t):0!==this.negative?1===this.length&&t>(0|this.words[0])?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;this.length>e&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(67108864>t),0>t)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var e=0;this.length>e&&0>this.words[e];e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o;this._expand(t.length+n);var a=0;for(i=0;t.length>i;i++){o=(0|this.words[i+n])+a;var s=(0|t.words[i])*e;a=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;this.length-n>i;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;this.length>i;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r,n=this.clone(),o=t,a=0|o.words[o.length-1];0!==(r=26-this._countBits(a))&&(o=o.ushln(r),n.iushln(r),a=0|o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==e){(s=new i(null)).length=u+1,s.words=Array(s.length);for(var h=0;s.length>h;h++)s.words[h]=0}var l=n.clone()._ishlnsubmul(o,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var c=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(n._ishlnsubmul(o,c=Math.min(c/a|0,67108863),f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=c)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(o=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:o,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(o=s.div.neg()),{div:o,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||0>this.cmp(t)?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,a,s},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return 0>o||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(67108863>=t);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(67108863>=t);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),a=new i(0),s=new i(0),u=new i(1),h=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++h;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&26>c;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(f)),o.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&26>p;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);0>e.cmp(n)?(n.isub(e),s.isub(o),u.isub(a)):(e.isub(n),o.isub(s),a.isub(u))}return{a:s,b:u,gcd:n.iushln(h)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,a=new i(1),s=new i(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var h=0,l=1;0==(e.words[0]&l)&&26>h;++h,l<<=1);if(h>0)for(e.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,c=1;0==(n.words[0]&c)&&26>f;++f,c<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);0>e.cmp(n)?(n.isub(e),s.isub(a)):(e.isub(n),a.isub(s))}return 0>(o=0===e.cmpn(1)?a:s).cmpn(0)&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(0>i){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(n>=this.length)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&this.length>a;a++){var s=0|this.words[a];o=(s+=o)>>>26,this.words[a]=s&=67108863}return 0!==o&&(this.words[a]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=0>t;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(67108863>=t,"Number is too big");var i=0|this.words[0];e=i===t?0:t>i?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(t.length>this.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){i>n?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return 0>=this.cmpn(t)},i.prototype.lte=function(t){return 0>=this.cmp(t)},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new i(null);return t.words=Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=this.n>e?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(g,y),g.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;r>n;n++)e.words[n]=t.words[n];if(e.length=r,9>=t.length)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;t.length>n;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}t.words[n-10]=i>>>=22,t.length-=0===i&&t.length>10?10:9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;t.length>r;r++){var n=0|t.words[r];t.words[r]=67108863&(e+=977*n),e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(w,y),n(b,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,r=0;t.length>r;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new g;else if("p224"===t)e=new w;else if("p192"===t)e=new b;else{if("p25519"!==t)throw Error("Unknown prime "+t);e=new M}return v[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return 0>r.cmp(this.m)||r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return 0>r.cmp(this.m)||r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return 0>r.cmpn(0)&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),a=0;!o.isZero()&&0===o.andln(1);)a++,o.iushrn(1);r(!o.isZero());var s=new i(1).toRed(this),u=s.redNeg(),h=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,h).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=a;0!==d.cmp(s);){for(var m=d,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(p>v);var y=this.pow(f,new i(1).iushln(p-v-1));c=c.redMul(y),f=y.redSqr(),d=d.redMul(f),p=v}return c},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;r.length>n;n++)r[n]=this.mul(r[n-1],t);var o=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],l=u-1;l>=0;l--){var f=h>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(o=this.mul(o,r[a]),s=0,a=0)):s=0}u=26}return o},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new E(t)},n(E,_),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return 0>i.cmp(this.m)?0>i.cmpn(0)&&(o=i.iadd(this.m)):o=i.isub(this.m),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),a=o;return 0>o.cmp(this.m)?0>o.cmpn(0)&&(a=o.iadd(this.m)):a=o.isub(this.m),a._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,t)})),h=r((function(e,r){var n=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(r,"__esModule",{value:!0});var o=n(i);function a(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function s(t,e){return t&&t._ethersType===e}r.defineReadOnly=a,r.setType=function(t,e){Object.defineProperty(t,"_ethersType",{configurable:!1,value:e,writable:!1})},r.isType=s,r.resolveProperties=function(t){var e={},r=[];return Object.keys(t).forEach((function(n){var i=t[n];i instanceof Promise?r.push(i.then((function(t){return e[n]=t,null}))):e[n]=i})),Promise.all(r).then((function(){return e}))},r.checkProperties=function(t,e){t&&"object"==typeof t||o.throwError("invalid object",o.INVALID_ARGUMENT,{argument:"object",value:t}),Object.keys(t).forEach((function(r){e[r]||o.throwError("invalid object key - "+r,o.INVALID_ARGUMENT,{argument:"transaction",value:t,key:r})}))},r.shallowCopy=function(t){var e={};for(var r in t)e[r]=t[r];return e};var u={boolean:!0,number:!0,string:!0};r.deepCopy=function t(e,r){if(null==e||u[typeof e])return e;if(Array.isArray(e)){var n=e.map((function(e){return t(e,r)}));return r&&Object.freeze(n),n}if("object"==typeof e){if(s(e,"BigNumber"))return e;if(s(e,"Description"))return e;if(s(e,"Indexed"))return e;n={};for(var i in e){var o=e[i];void 0!==o&&a(n,i,t(o,r))}return r&&Object.freeze(n),n}if("function"==typeof e)return e;throw Error("Cannot deepCopy "+typeof e)},r.inheritable=function t(e){return function(r){var n,i;(n=r).super_=i=e,n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(r,"inherits",t(r))}}}));e(h);var l=r((function(e,r){var n=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(r,"__esModule",{value:!0});var s=n(u),l=a(i),f=new s.default.BN(-1);function c(t){var e=t.toString(16);return"-"===e[0]?e.length%2==0?"-0x0"+e.substring(1):"-0x"+e.substring(1):e.length%2==1?"0x0"+e:"0x"+e}function d(t){return m(y(t))}function p(t){return new v(c(t))}function m(t){var e=t._hex;return"-"===e[0]?new s.default.BN(e.substring(3),16).mul(f):new s.default.BN(e.substring(2),16)}var v=function(){function t(e){if(l.checkNew(this,t),h.setType(this,"BigNumber"),"string"==typeof e)o.isHexString(e)?("0x"==e&&(e="0x0"),h.defineReadOnly(this,"_hex",e)):"-"===e[0]&&o.isHexString(e.substring(1))?h.defineReadOnly(this,"_hex",e):e.match(/^-?[0-9]*$/)?(""==e&&(e="0"),h.defineReadOnly(this,"_hex",c(new s.default.BN(e)))):l.throwError("invalid BigNumber string value",l.INVALID_ARGUMENT,{arg:"value",value:e});else if("number"==typeof e){parseInt(e+"")!==e&&l.throwError("underflow",l.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:e,outputValue:parseInt(e+"")});try{h.defineReadOnly(this,"_hex",c(new s.default.BN(e)))}catch(t){l.throwError("overflow",l.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:t.message})}}else e instanceof t?h.defineReadOnly(this,"_hex",e._hex):e.toHexString?h.defineReadOnly(this,"_hex",c(d(e.toHexString()))):e._hex&&o.isHexString(e._hex)?h.defineReadOnly(this,"_hex",e._hex):o.isArrayish(e)?h.defineReadOnly(this,"_hex",c(new s.default.BN(o.hexlify(e).substring(2),16))):l.throwError("invalid BigNumber value",l.INVALID_ARGUMENT,{arg:"value",value:e})}return t.prototype.fromTwos=function(t){return p(m(this).fromTwos(t))},t.prototype.toTwos=function(t){return p(m(this).toTwos(t))},t.prototype.abs=function(){return"-"===this._hex[0]?p(m(this).mul(f)):this},t.prototype.add=function(t){return p(m(this).add(d(t)))},t.prototype.sub=function(t){return p(m(this).sub(d(t)))},t.prototype.div=function(t){return y(t).isZero()&&l.throwError("division by zero",l.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"}),p(m(this).div(d(t)))},t.prototype.mul=function(t){return p(m(this).mul(d(t)))},t.prototype.mod=function(t){return p(m(this).mod(d(t)))},t.prototype.pow=function(t){return p(m(this).pow(d(t)))},t.prototype.maskn=function(t){return p(m(this).maskn(t))},t.prototype.eq=function(t){return m(this).eq(d(t))},t.prototype.lt=function(t){return m(this).lt(d(t))},t.prototype.lte=function(t){return m(this).lte(d(t))},t.prototype.gt=function(t){return m(this).gt(d(t))},t.prototype.gte=function(t){return m(this).gte(d(t))},t.prototype.isZero=function(){return m(this).isZero()},t.prototype.toNumber=function(){try{return m(this).toNumber()}catch(t){l.throwError("overflow",l.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:t.message})}return null},t.prototype.toString=function(){return m(this).toString(10)},t.prototype.toHexString=function(){return this._hex},t.isBigNumber=function(t){return h.isType(t,"BigNumber")},t}();function y(t){return v.isBigNumber(t)?t:new v(t)}r.BigNumber=v,r.bigNumberify=y}));e(l);var f=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.AddressZero="0x0000000000000000000000000000000000000000";e.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";e.EtherSymbol="Ξ";var r=l.bigNumberify(-1);e.NegativeOne=r;var n=l.bigNumberify(0);e.Zero=n;var i=l.bigNumberify(1);e.One=i;var o=l.bigNumberify(2);e.Two=o;var a=l.bigNumberify("1000000000000000000");e.WeiPerEther=a;var s=l.bigNumberify("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.MaxUint256=s}));e(f);var c=r((function(t,e){var r;function n(t,e){void 0===e&&(e=r.current),e!=r.current&&(i.checkNormalize(),t=t.normalize(e));for(var n=[],a=0;t.length>a;a++){var s=t.charCodeAt(a);if(128>s)n.push(s);else if(2048>s)n.push(s>>6|192),n.push(63&s|128);else if(55296==(64512&s)){a++;var u=t.charCodeAt(a);if(a>=t.length||56320!=(64512&u))throw Error("invalid utf-8 string");n.push((s=65536+((1023&s)<<10)+(1023&u))>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(63&s|128)}return o.arrayify(n)}function a(t,e){t=o.arrayify(t);for(var r="",n=0;t.length>n;){var i=t[n++];if(i>>7!=0){var a=null,s=null;if(192==(224&i))a=1,s=127;else if(224==(240&i))a=2,s=2047;else{if(240!=(248&i)){if(!e){if(128==(192&i))throw Error("invalid utf8 byte sequence; unexpected continuation byte");throw Error("invalid utf8 byte sequence; invalid prefix")}continue}a=3,s=65535}if(t.length<n+a){if(!e)throw Error("invalid utf8 byte sequence; too short");for(;t.length>n&&t[n]>>6==2;n++);}else{for(var u=i&(1<<8-a-1)-1,h=0;a>h;h++){var l=t[n];if(128!=(192&l)){u=null;break}u=u<<6|63&l,n++}if(null!==u){if(u>s){if(1114111<u){if(!e)throw Error("invalid utf8 byte sequence; out-of-range")}else if(55296>u||u>57343)r+=u>65535?String.fromCharCode(55296+((u-=65536)>>10&1023),56320+(1023&u)):String.fromCharCode(u);else if(!e)throw Error("invalid utf8 byte sequence; utf-16 surrogate")}else if(!e)throw Error("invalid utf8 byte sequence; overlong")}else if(!e)throw Error("invalid utf8 byte sequence; invalid continuation byte")}}else r+=String.fromCharCode(i)}return r}Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(r=e.UnicodeNormalizationForm||(e.UnicodeNormalizationForm={})),e.toUtf8Bytes=n,e.toUtf8String=a,e.formatBytes32String=function(t){var e=n(t);if(e.length>31)throw Error("bytes32 string must be less than 32 bytes");return o.hexlify(o.concat([e,f.HashZero]).slice(0,32))},e.parseBytes32String=function(t){var e=o.arrayify(t);if(32!==e.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==e[31])throw Error("invalid bytes32 sdtring - no null terminator");for(var r=31;0===e[r-1];)r--;return a(e.slice(0,r))}}));e(c);var d=r((function(e){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.5.7
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2016
 * @license MIT
 */
!function(){var r="object"==typeof window?window:{};!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(r=t);for(var n=!r.JS_SHA3_NO_COMMON_JS&&e.exports,i="0123456789abcdef".split(""),o=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],s=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],h=function(t,e,r){return function(n){return new b(t,e,t).update(n)[r]()}},l=function(t,e,r){return function(n,i){return new b(t,e,i).update(n)[r]()}},f=function(t,e){var r=h(t,e,"hex");r.create=function(){return new b(t,e,t)},r.update=function(t){return r.create().update(t)};for(var n=0;u.length>n;++n){var i=u[n];r[i]=h(t,e,i)}return r},c=[{name:"keccak",padding:[1,256,65536,16777216],bits:s,createMethod:f},{name:"sha3",padding:[6,1536,393216,100663296],bits:s,createMethod:f},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,e){var r=l(t,e,"hex");r.create=function(r){return new b(t,e,r)},r.update=function(t,e){return r.create(e).update(t)};for(var n=0;u.length>n;++n){var i=u[n];r[i]=l(t,e,i)}return r}}],d={},p=[],m=0;c.length>m;++m)for(var v=c[m],y=v.bits,g=0;y.length>g;++g){var w=v.name+"_"+y[g];p.push(w),d[w]=v.createMethod(y[g],v.padding)}function b(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;50>n;++n)this.s[n]=0}b.prototype.update=function(t){var e="string"!=typeof t;e&&t.constructor===ArrayBuffer&&(t=new Uint8Array(t));for(var r,n,i=t.length,a=this.blocks,s=this.byteCount,u=this.blockCount,h=0,l=this.s;i>h;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;u+1>r;++r)a[r]=0;if(e)for(r=this.start;i>h&&s>r;++h)a[r>>2]|=t[h]<<o[3&r++];else for(r=this.start;i>h&&s>r;++h)128>(n=t.charCodeAt(h))?a[r>>2]|=n<<o[3&r++]:2048>n?(a[r>>2]|=(192|n>>6)<<o[3&r++],a[r>>2]|=(128|63&n)<<o[3&r++]):55296>n||n>=57344?(a[r>>2]|=(224|n>>12)<<o[3&r++],a[r>>2]|=(128|n>>6&63)<<o[3&r++],a[r>>2]|=(128|63&n)<<o[3&r++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++h)),a[r>>2]|=(240|n>>18)<<o[3&r++],a[r>>2]|=(128|n>>12&63)<<o[3&r++],a[r>>2]|=(128|n>>6&63)<<o[3&r++],a[r>>2]|=(128|63&n)<<o[3&r++]);if(this.lastByteIndex=r,s>r)this.start=r;else{for(this.start=r-s,this.block=a[u],r=0;u>r;++r)l[r]^=a[r];M(l),this.reset=!0}}return this},b.prototype.finalize=function(){var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;r+1>e;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;r>e;++e)n[e]^=t[e];M(n)},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,o=this.extraBytes,a=0,s=0,u="";n>s;){for(a=0;e>a&&n>s;++a,++s)u+=i[(t=r[a])>>4&15]+i[15&t]+i[t>>12&15]+i[t>>8&15]+i[t>>20&15]+i[t>>16&15]+i[t>>28&15]+i[t>>24&15];s%e==0&&(M(r),a=0)}return o&&(t=r[a],o>0&&(u+=i[t>>4&15]+i[15&t]),o>1&&(u+=i[t>>12&15]+i[t>>8&15]),o>2&&(u+=i[t>>20&15]+i[t>>16&15])),u},b.prototype.buffer=b.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);n>a;){for(o=0;e>o&&n>a;++o,++a)u[a]=r[o];a%e==0&&M(r)}return i&&(u[o]=r[o],t=t.slice(0,s)),t},b.prototype.digest=b.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];i>s;){for(a=0;r>a&&i>s;++a,++s)u[t=s<<2]=255&(e=n[a]),u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%r==0&&M(n)}return o&&(t=s<<2,e=n[a],o>0&&(u[t]=255&e),o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u};var M=function(t){var e,r,n,i,o,s,u,h,l,f,c,d,p,m,v,y,g,w,b,M,_,E,N,A,x,C,T,k,I,R,F,O,S,U,P,B,j,D,L,G,z,V,Z,q,H,W,$,J,K,X,Q,Y,tt,et,rt,nt,it,ot,at,st,ut,ht,lt;for(n=0;48>n;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],h=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^((u=t[3]^t[13]^t[23]^t[33]^t[43])<<1|(s=t[2]^t[12]^t[22]^t[32]^t[42])>>>31),t[0]^=e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|u>>>31),t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,r=o^(l<<1|h>>>31),t[2]^=e=i^(h<<1|l>>>31),t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,r=u^(c<<1|f>>>31),t[4]^=e=s^(f<<1|c>>>31),t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,r=l^(p<<1|d>>>31),t[6]^=e=h^(d<<1|p>>>31),t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,r=c^(o<<1|i>>>31),t[8]^=e=f^(i<<1|o>>>31),t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,v=t[1],W=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,k=t[20]<<3|t[21]>>>29,I=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,V=t[40]<<18|t[41]>>>14,Z=t[41]<<18|t[40]>>>14,U=t[2]<<1|t[3]>>>31,P=t[3]<<1|t[2]>>>31,g=t[12]<<12|t[13]>>>20,J=t[22]<<10|t[23]>>>22,K=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,F=t[32]<<13|t[33]>>>19,ht=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,j=t[15]<<6|t[14]>>>26,b=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Q=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,S=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,L=t[27]<<25|t[26]>>>7,M=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Y=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,q=t[8]<<27|t[9]>>>5,H=t[9]<<27|t[8]>>>5,C=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,G=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,E=t[48]<<14|t[49]>>>18,N=t[49]<<14|t[48]>>>18,t[0]=(m=t[0])^~(y=t[13]<<12|t[12]>>>20)&(w=t[25]<<11|t[24]>>>21),t[1]=v^~g&b,t[10]=A^~C&k,t[11]=x^~T&I,t[20]=U^~B&D,t[21]=P^~j&L,t[30]=q^~W&J,t[31]=H^~$&K,t[40]=et^~nt&ot,t[41]=rt^~it&at,t[2]=y^~w&M,t[3]=g^~b&_,t[12]=C^~k&R,t[13]=T^~I&F,t[22]=B^~D&G,t[23]=j^~L&z,t[32]=W^~J&X,t[33]=$^~K&Q,t[42]=nt^~ot&st,t[43]=it^~at&ut,t[4]=w^~M&E,t[5]=b^~_&N,t[14]=k^~R&O,t[15]=I^~F&S,t[24]=D^~G&V,t[25]=L^~z&Z,t[34]=J^~X&Y,t[35]=K^~Q&tt,t[44]=ot^~st&ht,t[45]=at^~ut&lt,t[6]=M^~E&m,t[7]=_^~N&v,t[16]=R^~O&A,t[17]=F^~S&x,t[26]=G^~V&U,t[27]=z^~Z&P,t[36]=X^~Y&q,t[37]=Q^~tt&H,t[46]=st^~ht&et,t[47]=ut^~lt&rt,t[8]=E^~m&y,t[9]=N^~v&g,t[18]=O^~A&C,t[19]=S^~x&T,t[28]=V^~U&B,t[29]=Z^~P&j,t[38]=Y^~q&W,t[39]=tt^~H&$,t[48]=ht^~et&nt,t[49]=lt^~rt&it,t[0]^=a[n],t[1]^=a[n+1]};if(n)e.exports=d;else for(m=0;p.length>m;++m)r[p[m]]=d[p[m]]}()})),p=r((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.keccak256=function(t){return"0x"+d.keccak_256(o.arrayify(t))}}));e(p);var m=r((function(e,r){var n=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(r,"__esModule",{value:!0});var a=n(i),s=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u=/^((.*)\.)?([^.]+)$/,h=/^[a-z0-9.-]*$/;r.namehash=function(t){"string"!=typeof t&&a.throwError("invalid address - "+t,a.INVALID_ARGUMENT,{argument:"name",value:t}),(t=t.toLowerCase()).match(h)||a.throwError("contains invalid UseSTD3ASCIIRules characters",a.INVALID_ARGUMENT,{argument:"name",value:t});for(var e=s;t.length;){var r=t.match(u),n=c.toUtf8Bytes(r[3]);e=p.keccak256(o.concat([e,p.keccak256(n)])),t=r[2]||""}return o.hexlify(e)},r.id=function(t){return p.keccak256(c.toUtf8Bytes(t))},r.hashMessage=function(t){return p.keccak256(o.concat([c.toUtf8Bytes("Ethereum Signed Message:\n"),c.toUtf8Bytes(t.length+""),"string"==typeof t?c.toUtf8Bytes(t):t]))}}));e(m);var v=m.id,y=function(t,e,r,n,i,o,a,s){if(!t){var u;if(void 0===e)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,n,i,o,a,s],l=0;(u=Error(e.replace(/%s/g,(function(){return h[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}},g=r((function(e,r){var n=function(t){function e(){this.fetch=!1,this.DOMException=t.DOMException}return e.prototype=t,new e}("undefined"!=typeof self?self:t);!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function h(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t+=""),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function m(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=""+t:a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,r,n=d(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=Array(e.length),n=0;e.length>n;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=h(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},c.prototype.delete=function(t){delete this.map[h(t)]},c.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},c.prototype.set=function(t,e){this.map[h(t)]=l(e)},c.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),f(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),f(t)},n&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),g.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function M(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&300>this.status,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},M.error=function(){var t=new M(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];M.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new M(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e,this.stack=Error(t).stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function E(t,r){return new Promise((function(n,o){var a=new w(t,r);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL"),n(new M("response"in s?s.response:s.responseText,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=c,t.Request=w,t.Response=M),e.Headers=c,e.Request=w,e.Response=M,e.fetch=E}({})}(n),delete n.fetch.polyfill,(r=n.fetch).default=n.fetch,r.fetch=n.fetch,r.Headers=n.Headers,r.Request=n.Request,r.Response=n.Response,e.exports=r})),w=r((function(t,e){function r(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function n(t,e,r){for(var n=0,i=0;r>i;i++)n=256*n+t[e+i];return n}function i(t,e,r,n){for(var i=[];e+1+n>r;){var o=a(t,r);if(i.push(o.result),(r+=o.consumed)>e+1+n)throw Error("invalid rlp")}return{consumed:1+n,result:i}}function a(t,e){if(0===t.length)throw Error("invalid rlp data");if(t[e]>=248){if(e+1+(r=t[e]-247)>t.length)throw Error("too short");if(e+1+r+(a=n(t,e+1,r))>t.length)throw Error("to short");return i(t,e,e+1+r,r+a)}if(t[e]>=192){if(e+1+(a=t[e]-192)>t.length)throw Error("invalid rlp data");return i(t,e,e+1,a)}if(t[e]>=184){var r;if(e+1+(r=t[e]-183)>t.length)throw Error("invalid rlp data");if(e+1+r+(a=n(t,e+1,r))>t.length)throw Error("invalid rlp data");return{consumed:1+r+a,result:o.hexlify(t.slice(e+1+r,e+1+r+a))}}if(t[e]>=128){var a;if(e+1+(a=t[e]-128)>t.length)throw Error("invlaid rlp data");return{consumed:1+a,result:o.hexlify(t.slice(e+1,e+1+a))}}return{consumed:1,result:o.hexlify(t[e])}}Object.defineProperty(e,"__esModule",{value:!0}),e.encode=function(t){return o.hexlify(function t(e){if(Array.isArray(e)){var n=[];return e.forEach((function(e){n=n.concat(t(e))})),n.length>55?((i=r(n.length)).unshift(247+i.length),i.concat(n)):(n.unshift(192+n.length),n)}var i,a=Array.prototype.slice.call(o.arrayify(e));return 1!==a.length||a[0]>127?a.length>55?((i=r(a.length)).unshift(183+i.length),i.concat(a)):(a.unshift(128+a.length),a):a}(t))},e.decode=function(t){var e=o.arrayify(t),r=a(e,0);if(r.consumed!==e.length)throw Error("invalid rlp data");return r.result}}));e(w);var b=r((function(e,r){var n=t&&t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=n(u);function s(t){"string"==typeof t&&t.match(/^0x[0-9A-Fa-f]{40}$/)||i.throwError("invalid address",i.INVALID_ARGUMENT,{arg:"address",value:t});for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;40>n;n++)r[n]=e[n].charCodeAt(0);r=o.arrayify(p.keccak256(r));for(var a=0;40>a;a+=2)8>r[a>>1]>>4||(e[a]=e[a].toUpperCase()),8>(15&r[a>>1])||(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}for(var h={},l=0;10>l;l++)h[l+""]=l+"";for(l=0;26>l;l++)h[String.fromCharCode(65+l)]=10+l+"";var f,c=Math.floor((f=9007199254740991,Math.log10?Math.log10(f):Math.log(f)/Math.LN10));function d(t){t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00";var e="";for(t.split("").forEach((function(t){e+=h[t]}));e.length>=c;){var r=e.substring(0,c);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=98-parseInt(e,10)%97+"";2>n.length;)n="0"+n;return n}function m(t){var e=null;if("string"!=typeof t&&i.throwError("invalid address",i.INVALID_ARGUMENT,{arg:"address",value:t}),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=s(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&i.throwError("bad address checksum",i.INVALID_ARGUMENT,{arg:"address",value:t});else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==d(t)&&i.throwError("bad icap checksum",i.INVALID_ARGUMENT,{arg:"address",value:t}),e=new a.default.BN(t.substring(4),36).toString(16);40>e.length;)e="0"+e;e=s("0x"+e)}else i.throwError("invalid address",i.INVALID_ARGUMENT,{arg:"address",value:t});return e}r.getAddress=m,r.getIcapAddress=function(t){for(var e=new a.default.BN(m(t).substring(2),16).toString(36).toUpperCase();30>e.length;)e="0"+e;return"XE"+d("XE00"+e)+e},r.getContractAddress=function(t){if(!t.from)throw Error("missing from address");var e=t.nonce;return m("0x"+p.keccak256(w.encode([m(t.from),o.stripZeros(o.hexlify(e))])).substring(26))}}));e(b);var M=r((function(e,r){var n,a=t&&t.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=t&&t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(r,"__esModule",{value:!0});var u=s(i),d=RegExp(/^bytes([0-9]*)$/),p=RegExp(/^(u?int)([0-9]*)$/),m=RegExp(/^(.*)\[([0-9]*)\]$/);r.defaultCoerceFunc=function(t,e){var r=t.match(p);return r&&48>=parseInt(r[2])?e.toNumber():e};var v=/^([^)(]*)\((.*)\)([^)(]*)$/,y=/^[A-Za-z_][A-Za-z0-9_]*$/;function g(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}function w(t,e){var r=t;function n(t){throw Error('unexpected character "'+r[t]+'" at position '+t+' in "'+r+'"')}t=t.replace(/\s/g," ");for(var i={type:"",name:"",state:{allowType:!0}},o=i,a=0;t.length>a;a++){var s=t[a];switch(s){case"(":o.state.allowParams||n(a),o.state.allowType=!1,o.type=g(o.type),o.components=[{type:"",name:"",parent:o,state:{allowType:!0}}],o=o.components[0];break;case")":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=g(o.type);var u=o;(o=o.parent)||n(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),o.type=g(o.type);var h={type:"",name:"",parent:o.parent,state:{allowType:!0}};o.parent.components.push(h),delete o.parent,o=h;break;case" ":o.state.allowType&&""!==o.type&&(o.type=g(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&(e&&"indexed"===o.name?(o.indexed=!0,o.name=""):o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:n(a)}}if(o.parent)throw Error("unexpected eof");return delete i.state,e&&"indexed"===o.name&&(o.indexed=!0,o.name=""),i.type=g(i.type),i}function M(t){return G(r.defaultCoerceFunc,t).type}r.parseParamType=function(t){return w(t,!0)},r.formatParamType=M,r.formatSignature=function(t){return t.name+"("+t.inputs.map((function(t){return M(t)})).join(",")+")"},r.parseSignature=function(t){if("string"==typeof t)return"event "===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).substring(0,6)?function(t){var e={anonymous:!1,inputs:[],name:"",type:"event"},r=t.match(v);if(!r)throw Error("invalid event: "+t);if(e.name=r[1].trim(),D(r[2]).forEach((function(t){(t=w(t,!0)).indexed=!!t.indexed,e.inputs.push(t)})),r[3].split(" ").forEach((function(t){switch(t){case"anonymous":e.anonymous=!0;break;case"":break;default:u.info("unknown modifier: "+t)}})),e.name&&!e.name.match(y))throw Error('invalid identifier: "'+e.name+'"');return e}(t.substring(6).trim()):("function "===t.substring(0,9)&&(t=t.substring(9)),function(t){var e={constant:!1,gas:null,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},r=t.split("@");if(1!==r.length){if(r.length>2)throw Error("invalid signature");if(!r[1].match(/^[0-9]+$/))throw Error("invalid signature gas");e.gas=l.bigNumberify(r[1]),t=r[0]}var n=(r=t.split(" returns "))[0].match(v);if(!n)throw Error("invalid signature");if(e.name=n[1].trim(),!e.name.match(y))throw Error('invalid identifier: "'+n[1]+'"');if(D(n[2]).forEach((function(t){e.inputs.push(w(t))})),n[3].split(" ").forEach((function(t){switch(t){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:u.info("unknown modifier: "+t)}})),r.length>1){var i=r[1].match(v);if(""!=i[1].trim()||""!=i[3].trim())throw Error("unexpected tokens");D(i[2]).forEach((function(t){e.outputs.push(w(t))}))}if("constructor"===e.name){if(e.type="constructor",e.outputs.length)throw Error("constructor may not have outputs");delete e.name,delete e.outputs}return e}(t.trim()));throw Error("unknown signature")};var _=function(t,e,r,n,i){this.coerceFunc=t,this.name=e,this.type=r,this.localName=n,this.dynamic=i},E=function(t){function e(e){var r=t.call(this,e.coerceFunc,e.name,e.type,void 0,e.dynamic)||this;return h.defineReadOnly(r,"coder",e),r}return a(e,t),e.prototype.encode=function(t){return this.coder.encode(t)},e.prototype.decode=function(t,e){return this.coder.decode(t,e)},e}(_),N=function(t){function e(e,r){return t.call(this,e,"null","",r,!1)||this}return a(e,t),e.prototype.encode=function(t){return o.arrayify([])},e.prototype.decode=function(t,e){if(e>t.length)throw Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}},e}(_),A=function(t){function e(e,r,n,i){var o=this,a=(n?"int":"uint")+8*r;return(o=t.call(this,e,a,a,i,!1)||this).size=r,o.signed=n,o}return a(e,t),e.prototype.encode=function(t){try{var e=l.bigNumberify(t);if(this.signed){var r=f.MaxUint256.maskn(8*this.size-1);if(e.gt(r))throw Error("out-of-bounds");if(r=r.add(f.One).mul(f.NegativeOne),e.lt(r))throw Error("out-of-bounds")}else if(e.lt(f.Zero)||e.gt(f.MaxUint256.maskn(8*this.size)))throw Error("out-of-bounds");return e=e.toTwos(8*this.size).maskn(8*this.size),this.signed&&(e=e.fromTwos(8*this.size).toTwos(256)),o.padZeros(o.arrayify(e),32)}catch(e){u.throwError("invalid number value",u.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:t})}return null},e.prototype.decode=function(t,e){e+32>t.length&&u.throwError("insufficient data for "+this.name+" type",u.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:o.hexlify(t.slice(e,e+32))});var r=l.bigNumberify(t.slice(e+(32-this.size),e+32));return r=this.signed?r.fromTwos(8*this.size):r.maskn(8*this.size),{consumed:32,value:this.coerceFunc(this.name,r)}},e}(_),x=new A((function(t,e){return e}),32,!1,"none"),C=function(t){function e(e,r){return t.call(this,e,"bool","bool",r,!1)||this}return a(e,t),e.prototype.encode=function(t){return x.encode(t?1:0)},e.prototype.decode=function(t,e){try{var r=x.decode(t,e)}catch(t){throw"insufficient data for uint256 type"===t.reason&&u.throwError("insufficient data for boolean type",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:t.value}),t}return{consumed:r.consumed,value:this.coerceFunc("bool",!r.value.isZero())}},e}(_),T=function(t){function e(e,r,n){var i=this,o="bytes"+r;return(i=t.call(this,e,o,o,n,!1)||this).length=r,i}return a(e,t),e.prototype.encode=function(t){var e=new Uint8Array(32);try{var r=o.arrayify(t);if(r.length!==this.length)throw Error("incorrect data length");e.set(r)}catch(e){u.throwError("invalid "+this.name+" value",u.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:e.value||t})}return e},e.prototype.decode=function(t,e){return e+32>t.length&&u.throwError("insufficient data for "+name+" type",u.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:o.hexlify(t.slice(e,e+32))}),{consumed:32,value:this.coerceFunc(this.name,o.hexlify(t.slice(e,e+this.length)))}},e}(_),k=function(t){function e(e,r){return t.call(this,e,"address","address",r,!1)||this}return a(e,t),e.prototype.encode=function(t){var e=new Uint8Array(32);try{e.set(o.arrayify(b.getAddress(t)),12)}catch(e){u.throwError("invalid address",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:t})}return e},e.prototype.decode=function(t,e){return e+32>t.length&&u.throwError("insufficuent data for address type",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:o.hexlify(t.slice(e,e+32))}),{consumed:32,value:this.coerceFunc("address",b.getAddress(o.hexlify(t.slice(e+12,e+32))))}},e}(_);function I(t){var e=new Uint8Array(32*Math.ceil(t.length/32)-t.length);return o.concat([x.encode(t.length),t,e])}function R(t,e,r){e+32>t.length&&u.throwError("insufficient data for dynamicBytes length",u.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:o.hexlify(t.slice(e,e+32))});var n=x.decode(t,e).value;try{n=n.toNumber()}catch(t){u.throwError("dynamic bytes count too large",u.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:""+n})}return e+32+n>t.length&&u.throwError("insufficient data for dynamicBytes type",u.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:o.hexlify(t.slice(e,e+32+n))}),{consumed:32+32*Math.ceil(n/32),value:t.slice(e+32,e+32+n)}}var F=function(t){function e(e,r){return t.call(this,e,"bytes","bytes",r,!0)||this}return a(e,t),e.prototype.encode=function(t){try{return I(o.arrayify(t))}catch(t){u.throwError("invalid bytes value",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:t.value})}return null},e.prototype.decode=function(t,e){var r=R(t,e,this.localName);return r.value=this.coerceFunc("bytes",o.hexlify(r.value)),r},e}(_),O=function(t){function e(e,r){return t.call(this,e,"string","string",r,!0)||this}return a(e,t),e.prototype.encode=function(t){return"string"!=typeof t&&u.throwError("invalid string value",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:t}),I(c.toUtf8Bytes(t))},e.prototype.decode=function(t,e){var r=R(t,e,this.localName);return r.value=this.coerceFunc("string",c.toUtf8String(r.value)),r},e}(_);function S(t){return 32*Math.ceil(t/32)}function U(t,e){if(Array.isArray(e));else if(e&&"object"==typeof e){var r=[];t.forEach((function(t){r.push(e[t.localName])})),e=r}else u.throwError("invalid tuple value",u.INVALID_ARGUMENT,{coderType:"tuple",value:e});t.length!==e.length&&u.throwError("types/value length mismatch",u.INVALID_ARGUMENT,{coderType:"tuple",value:e});var n=[];t.forEach((function(t,r){n.push({dynamic:t.dynamic,value:t.encode(e[r])})}));var i=0,o=0;n.forEach((function(t){t.dynamic?(i+=32,o+=S(t.value.length)):i+=S(t.value.length)}));var a=0,s=i,h=new Uint8Array(i+o);return n.forEach((function(t){t.dynamic?(h.set(x.encode(s),a),a+=32,h.set(t.value,s),s+=S(t.value.length)):(h.set(t.value,a),a+=S(t.value.length))})),h}function P(t,e,r){var n=r,i=0,o=[];return t.forEach((function(t){if(t.dynamic){var a=x.decode(e,r);(s=t.decode(e,n+a.value.toNumber())).consumed=a.consumed}else var s=t.decode(e,r);null!=s.value&&o.push(s.value),r+=s.consumed,i+=s.consumed})),t.forEach((function(t,e){var r=t.localName;r&&("length"===r&&(r="_length"),null==o[r]&&(o[r]=o[e]))})),{value:o,consumed:i}}var B=function(t){function e(e,r,n,i){var o=this;return(o=t.call(this,e,"array",r.type+"["+(0>n?"":n)+"]",i,-1===n||r.dynamic)||this).coder=r,o.length=n,o}return a(e,t),e.prototype.encode=function(t){Array.isArray(t)||u.throwError("expected array value",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:t});var e=this.length,r=new Uint8Array(0);-1===e&&(r=x.encode(e=t.length)),u.checkArgumentCount(e,t.length," in coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;t.length>i;i++)n.push(this.coder);return o.concat([r,U(n,t)])},e.prototype.decode=function(t,e){var r=0,n=this.length;if(-1===n){try{var i=x.decode(t,e)}catch(t){u.throwError("insufficient data for dynamic array length",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:t.value})}try{n=i.value.toNumber()}catch(t){u.throwError("array count too large",u.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:""+i.value})}r+=i.consumed,e+=i.consumed}for(var o=[],a=0;n>a;a++)o.push(new E(this.coder));var s=P(o,t,e);return s.consumed+=r,s.value=this.coerceFunc(this.type,s.value),s},e}(_),j=function(t){function e(e,r,n){var i=this,o=!1,a=[];r.forEach((function(t){t.dynamic&&(o=!0),a.push(t.type)}));var s="tuple("+a.join(",")+")";return(i=t.call(this,e,"tuple",s,n,o)||this).coders=r,i}return a(e,t),e.prototype.encode=function(t){return U(this.coders,t)},e.prototype.decode=function(t,e){var r=P(this.coders,t,e);return r.value=this.coerceFunc(this.type,r.value),r},e}(_);function D(t){t=t.trim();for(var e=[],r="",n=0,i=0;t.length>i;i++){var o=t[i];if(","===o&&0===n)e.push(r),r="";else if(r+=o,"("===o)n++;else if(")"===o&&-1===--n)throw Error("unbalanced parenthsis")}return r&&e.push(r),e}var L={address:k,bool:C,string:O,bytes:F};function G(t,e){var r,n=L[e.type];if(n)return new n(t,e.name);if(r=e.type.match(p))return(0===(i=parseInt(r[2]||"256"))||i>256||i%8!=0)&&u.throwError("invalid "+r[1]+" bit length",u.INVALID_ARGUMENT,{arg:"param",value:e}),new A(t,i/8,"int"===r[1],e.name);if(r=e.type.match(d))return(0===(i=parseInt(r[1]))||i>32)&&u.throwError("invalid bytes length",u.INVALID_ARGUMENT,{arg:"param",value:e}),new T(t,i,e.name);if(r=e.type.match(m)){var i=parseInt(r[2]||"-1");return(e=h.shallowCopy(e)).type=r[1],e=h.deepCopy(e),new B(t,G(t,e),i,e.name)}return"tuple"===e.type.substring(0,5)?function(t,e,r){e||(e=[]);var n=[];return e.forEach((function(e){n.push(G(t,e))})),new j(t,n,r)}(t,e.components,e.name):""===e.type?new N(t,e.name):(u.throwError("invalid type",u.INVALID_ARGUMENT,{arg:"type",value:e.type}),null)}var z=function(){function t(e){u.checkNew(this,t),e||(e=r.defaultCoerceFunc),h.defineReadOnly(this,"coerceFunc",e)}return t.prototype.encode=function(t,e){t.length!==e.length&&u.throwError("types/values length mismatch",u.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var r=[];return t.forEach((function(t){var e=null;e="string"==typeof t?w(t):t,r.push(G(this.coerceFunc,e))}),this),o.hexlify(new j(this.coerceFunc,r,"_").encode(e))},t.prototype.decode=function(t,e){var r=[];return t.forEach((function(t){var e=null;e="string"==typeof t?w(t):h.deepCopy(t),r.push(G(this.coerceFunc,e))}),this),new j(this.coerceFunc,r,"_").decode(o.arrayify(e),0).value},t}();r.AbiCoder=z,r.defaultAbiCoder=new z}));e(M);var _=M.defaultAbiCoder,E=1e3,N=6e4,A=36e5,x=24*A,C=function(t,e){e=e||{};var r=typeof t;if("string"===r&&t.length>0)return function(t){if((t+="").length>100)return;var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*x;case"hours":case"hour":case"hrs":case"hr":case"h":return r*A;case"minutes":case"minute":case"mins":case"min":case"m":return r*N;case"seconds":case"second":case"secs":case"sec":case"s":return r*E;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(t);if("number"===r&&!1===isNaN(t))return e.long?function(t){var e=Math.abs(t);if(e>=x)return T(t,e,x,"day");if(e>=A)return T(t,e,A,"hour");if(e>=N)return T(t,e,N,"minute");if(e>=E)return T(t,e,E,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=x)return Math.round(t/x)+"d";if(e>=A)return Math.round(t/A)+"h";if(e>=N)return Math.round(t/N)+"m";if(e>=E)return Math.round(t/E)+"s";return t+"ms"}(t);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function T(t,e,r,n){var i=e>=1.5*r;return Math.round(t/r)+" "+n+(i?"s":"")}var k=function(t){function e(t){let e=0;for(let r=0;t.length>r;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let o;function a(...t){if(!a.enabled)return;const e=a,n=Number(new Date);e.diff=n-(o||n),e.prev=o,e.curr=n,o=n,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let i=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;i++;const a=r.formatters[o];if("function"==typeof a){n=a.call(e,t[i]),t.splice(i,1),i--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=e(t),a.destroy=n,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function n(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function o(t){return(""+t).substring(2,(""+t).length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(o),...r.skips.map(o).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),i=n.length;for(e=0;i>e;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(RegExp("^"+t.substr(1)+"$")):r.names.push(RegExp("^"+t+"$")));for(e=0;r.instances.length>e;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;n>e;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;n>e;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=C,Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r},I=r((function(t,e){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(n++,"%c"===t&&(i=n))}),e.splice(i,0,r)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=k(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),R=I("multicall");function F(t){return t.replace(/^0x/,"")}function O(t,e){return _.encode(t,e)}function S(t,e){return _.decode(t,"0x"+e.replace(/0x/i,""))}function U(t){return Array.isArray(t)?0===t.length:!t||0===Object.keys(t).length}var P="object"==typeof self&&self&&self.Object===Object&&self,B="object"==typeof t&&t&&t.Object===Object&&t||P||Function("return this")(),j=B.Symbol,D=Object.prototype,L=D.hasOwnProperty,G=D.toString,z=j?j.toStringTag:void 0;var V=function(t){var e=L.call(t,z),r=t[z];try{t[z]=void 0;var n=!0}catch(t){}var i=G.call(t);return n&&(e?t[z]=r:delete t[z]),i},Z=Object.prototype.toString;var q=function(t){return Z.call(t)},H=j?j.toStringTag:void 0;var W=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":H&&H in Object(t)?V(t):q(t)};var $=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var J,K=function(t){if(!$(t))return!1;var e=W(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},X=B["__core-js_shared__"],Q=(J=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"";var Y=function(t){return!!Q&&Q in t},tt=Function.prototype.toString;var et=function(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},rt=/^\[object .+?Constructor\]$/,nt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var it=function(t){return!(!$(t)||Y(t))&&(K(t)?nt:rt).test(et(t))};var ot=function(t,e){return null==t?void 0:t[e]};var at=function(t,e){var r=ot(t,e);return it(r)?r:void 0},st=at(Object,"create");var ut=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ht=Object.prototype.hasOwnProperty;var lt=function(t){var e=this.__data__;if(st){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return ht.call(e,t)?e[t]:void 0},ft=Object.prototype.hasOwnProperty;var ct=function(t){var e=this.__data__;return st?void 0!==e[t]:ft.call(e,t)};var dt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=st&&void 0===e?"__lodash_hash_undefined__":e,this};function pt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pt.prototype.clear=function(){this.__data__=st?st(null):{},this.size=0},pt.prototype.delete=ut,pt.prototype.get=lt,pt.prototype.has=ct,pt.prototype.set=dt;var mt=pt;var vt=function(t,e){return t===e||t!=t&&e!=e};var yt=function(t,e){for(var r=t.length;r--;)if(vt(t[r][0],e))return r;return-1},gt=Array.prototype.splice;var wt=function(t){var e=this.__data__,r=yt(e,t);return r>=0&&(r==e.length-1?e.pop():gt.call(e,r,1),--this.size,!0)};var bt=function(t){var e=this.__data__,r=yt(e,t);return 0>r?void 0:e[r][1]};var Mt=function(t){return yt(this.__data__,t)>-1};var _t=function(t,e){var r=this.__data__,n=yt(r,t);return 0>n?(++this.size,r.push([t,e])):r[n][1]=e,this};function Et(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Et.prototype.clear=function(){this.__data__=[],this.size=0},Et.prototype.delete=wt,Et.prototype.get=bt,Et.prototype.has=Mt,Et.prototype.set=_t;var Nt=Et,At=at(B,"Map");var xt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Ct=function(t,e){var r=t.__data__;return xt(e)?r["string"==typeof e?"string":"hash"]:r.map};var Tt=function(t){var e=Ct(this,t).delete(t);return this.size-=e?1:0,e};var kt=function(t){return Ct(this,t).get(t)};var It=function(t){return Ct(this,t).has(t)};var Rt=function(t,e){var r=Ct(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Ft(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ft.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(At||Nt),string:new mt}},Ft.prototype.delete=Tt,Ft.prototype.get=kt,Ft.prototype.has=It,Ft.prototype.set=Rt;var Ot=Ft;function St(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(St.Cache||Ot),r}St.Cache=Ot;var Ut=/\(.*?\)/g,Pt=/^[^)]*\)/;var Bt=St((function(t){var e=[t.map((function(t){var e=t.args;return[t.target,v(t.method).substr(0,10)+(e&&e.length>0?F(O(e.map((function(t){return t[1]})),e.map((function(t){return t[0]})))):"")]}))];return O([{components:[{type:"address"},{type:"bytes"}],name:"data",type:"tuple[]"}],e)}),(function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];return JSON.stringify(e)}));async function jt(t,e){var r=(t=Array.isArray(t)?t:[t]).reduce((function(t,e){var r=e.returns,n=e.call.slice(1);if(n.length>0)for(var i=Array.isArray(a=r),o=0,a=i?a:a[Symbol.iterator]();;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{if((o=a.next()).done)break;s=o.value}t[s[0]]=n}return t}),{});t=t.map((function(t){var r=t.call,n=t.target,i=t.returns;n||(n=e.multicallAddress);var o=r[0],a=r.slice(1),s=o.match(Ut).map((function(t){return t.slice(1,-1)})),u=s[1],h=s[0].split(",").filter((function(t){return!!t}));y(h.length===a.length,"Every method argument must have exactly one type.\n          Comparing argument types "+JSON.stringify(h)+"\n          to argument values "+JSON.stringify(a)+".\n        ");var l=a.map((function(t,e){return[t,h[e]]})),f=u?u.split(","):[];return{method:o.match(Pt)[0],args:l,returnTypes:f,target:n,returns:i}}));var n=Bt(t,!1),i=await async function(t,e){var r=e.id,n=e.web3,i=e.ethers,o=e.provider,a=e.rpcUrl,s=e.block,u=e.multicallAddress,h=e.ws,l=e.wsResponseTimeout,f="0x252dba42"+F(t);if(h)return R("Sending via WebSocket"),new Promise((function(t,e){function n(e){"string"!=typeof e&&(e=e.data);var n=JSON.parse(e);n.id&&n.id===r&&(R("Got WebSocket response id #%d",n.id),clearTimeout(i),h.onmessage=null,t(n.result))}h.send(JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:u,data:f},s||"latest"],id:r}));var i=setTimeout((function(){h.onmessage===n&&(h.onmessage=null,e(Error("WebSocket response timeout")))}),l);h.onmessage=n}));if(i)return R("Sending via ethers provider"),i.send({method:"eth_call",params:[{to:u,data:f},s||"latest"]});if(o)return R("Sending via EIP-1193 provider"),o.request({method:"eth_call",params:[{to:u,data:f},s||"latest"]});if(n)return R("Sending via web3 provider"),n.eth.call({to:u,data:f});R("Sending via XHR fetch");var c=await g(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:u,data:f},s||"latest"],id:1})}),d=await c.json();if(!d||!d.result)throw Error("Multicall received an empty response. Check your call configuration for errors.");return d.result}(n,e),o=t.map((function(t){return t.returnTypes})).reduce((function(t,e){return t.concat(e)}),[]),a=t.map((function(t){return t.returns})).reduce((function(t,e){return t.concat(e)}),[]);y(o.length===a.length,"Missing data needed to parse results");for(var s=S(["uint256","bytes[]"],i),u=s.shift(),h=s.reduce((function(e,r){return r.forEach((function(r,n){var i=t[n].returnTypes,o=S(i,r);e.push.apply(e,o.map((function(t,e){return"bool"===i[e]?""+t=="true":t})))})),e}),[]),l={blockNumber:u,original:{},transformed:{}},f=0;h.length>f;f++){var c=a[f],d=c[0],p=c[1];l.original[d]=h[f],l.transformed[d]=void 0!==p?p(h[f]):h[f]}return{results:l,keyToArgMap:r}}function Dt(){return(Dt=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var Lt=null;"undefined"!=typeof WebSocket?Lt=WebSocket:"undefined"!=typeof MozWebSocket?Lt=MozWebSocket:void 0!==t?Lt=t.WebSocket||t.MozWebSocket:"undefined"!=typeof window?Lt=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(Lt=self.WebSocket||self.MozWebSocket);var Gt=Lt,zt={mainnet:{multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",rpcUrl:"https://mainnet.infura.io"},kovan:{multicall:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",rpcUrl:"https://kovan.infura.io"},rinkeby:{multicall:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",rpcUrl:"https://rinkeby.infura.io"},goerli:{multicall:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",rpcUrl:"https://rpc.slock.it/goerli"},xdai:{multicall:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",rpcUrl:"https://dai.poa.network"}},Vt=I("multicall"),Zt=/^wss?:\/\//i;function qt(t){if(void 0!==(t=Dt({interval:1e3,staleBlockRetryWait:3e3,errorRetryWait:5e3,wsResponseTimeout:5e3,wsReconnectTimeout:5e3},t)).preset){if(void 0===zt[t.preset])throw Error("Unknown preset "+t.preset);t.multicallAddress=zt[t.preset].multicall,t.rpcUrl=zt[t.preset].rpcUrl}return t}function Ht(t,e){var r={model:[].concat(t),store:{},storeTransformed:{},keyToArgMap:{},latestPromiseId:0,latestBlockNumber:null,id:0,listeners:{subscribe:[],block:[],poll:[],error:[]},handler:null,wsReconnectHandler:null,watching:!1,config:qt(e),ws:null};function n(t){clearTimeout(r.handler),r.handler=null,clearTimeout(r.wsReconnectHandler),r.wsReconnectHandler=setTimeout((function(){o(),i()}),t)}function i(){Zt.test(r.config.rpcUrl)&&(Vt("Connecting to WebSocket "+r.config.rpcUrl+"..."),r.ws=new Gt(r.config.rpcUrl),r.ws.onopen=function(){if(Vt("WebSocket connected"),r.handler)throw Error("Existing poll setTimeout handler set");r.watching&&s.call({state:r,interval:0,resolveFetchPromise:r.initialFetchResolver})},r.ws.onclose=function(t){Vt("WebSocket closed: %s",JSON.stringify(t)),Vt("Reconnecting in "+r.config.wsReconnectTimeout/1e3+" seconds."),n(r.config.wsReconnectTimeout)},r.ws.onerror=function(t){Vt("WebSocket error: %s",JSON.stringify(t)),Vt("Reconnecting in "+r.config.wsReconnectTimeout/1e3+" seconds."),n(r.config.wsReconnectTimeout)})}function o(){Vt("destroyWebSocket()"),r.ws.onopen=null,r.ws.onclose=null,r.ws.onerror=null,r.ws.onmessage=null,r.ws.close()}function a(t,e,n){if(void 0===n&&(n=!1),!U(r.storeTransformed)){var i=Object.entries(r.storeTransformed).map((function(t){var e=t[0];return{type:e,value:t[1],args:r.keyToArgMap[e]||[]}}));n?t(i):i.forEach(t)}r.listeners.subscribe.push({listener:t,id:e,batch:n})}function s(){var t=this,e=void 0!==this.interval?this.interval:this.state.config.interval;Vt("poll() called, %s%s","interval: "+e,this.retry?", retry: "+this.retry:""),this.state.handler=setTimeout((async function(){try{if(!t.state.handler)return;t.state.latestPromiseId++;var e=t.state.latestPromiseId;r.listeners.poll.forEach((function(r){return(0,r.listener)(Dt({id:e,latestBlockNumber:t.state.latestBlockNumber},t.retry?{retry:t.retry}:{}))}));var n=await jt(t.state.model,Dt({},t.state.config,{ws:t.state.ws,id:t.state.latestPromiseId})),i=n.results,o=i.blockNumber,a=Dt({},i.original),u=Dt({},i.transformed),h=n.keyToArgMap;if(t.state.cancelPromiseId===e)return;if("function"==typeof t.resolveFetchPromise&&t.resolveFetchPromise(),null!==t.state.latestBlockNumber&&t.state.latestBlockNumber>o)Vt("Stale block returned, retrying in "+t.state.config.staleBlockRetryWait/1e3+" seconds"),s.call({state:t.state,interval:t.state.config.staleBlockRetryWait,retry:t.retry?t.retry+1:1});else{(null===t.state.latestBlockNumber||null!==t.state.latestBlockNumber&&o>t.state.latestBlockNumber)&&(t.state.latestBlockNumber=parseInt(o),r.listeners.block.forEach((function(e){return(0,e.listener)(t.state.latestBlockNumber)})));var l=Object.entries(a).filter((function(e){return function(t,e,r){return void 0===r[t]||(null!==e&&null!==r[t]&&"object"==typeof e&&"function"==typeof e.toString&&"object"==typeof r[t]&&"function"==typeof r[t].toString?""+e!=""+r[t]:e!==r[t])}(e[0],e[1],t.state.store)})).map((function(t){var e=t[0];return{type:e,value:u[e],args:h[e]||[]}}));t.state.store=Dt({},a),t.state.storeTransformed=Dt({},u),t.state.keyToArgMap=Dt({},h),function(t){U(t)||r.listeners.subscribe.forEach((function(e){var r=e.listener;return e.batch?r(t):t.forEach(r)}))}(l),s.call({state:t.state})}}catch(e){if(Vt("Error: %s",e.message),r.listeners.error.forEach((function(r){return(0,r.listener)(e,t.state)})),!t.state.handler)return;Vt("Error occured, retrying in "+t.state.config.errorRetryWait/1e3+" seconds"),s.call({state:t.state,interval:t.state.config.errorRetryWait,retry:t.retry?t.retry+1:1})}}),e)}return i(),r.initialFetchPromise=new Promise((function(t){r.initialFetchResolver=t})),{tap:function(t){Vt("watcher.tap() called");var e=t([].concat(r.model));return r.model=[].concat(e),this.poll()},poll:function(){var t;Vt("watcher.poll() called");var e=new Promise((function(e){t=e}));return!r.watching||r.ws&&r.ws.readyState!==Gt.OPEN?Promise.resolve():(clearTimeout(r.handler),r.handler=null,s.call({state:r,interval:0,resolveFetchPromise:t}),e)},subscribe:function(t){var e=r.id++;return a(t,e,!1),{unsub:function(){r.listeners.subscribe=r.listeners.subscribe.filter((function(t){return t.id!==e}))}}},batch:function(){return{subscribe:function(t){var e=r.id++;return a(t,e,!0),{unsub:function(){r.listeners.subscribe=r.listeners.subscribe.filter((function(t){return t.id!==e}))}}}}},onNewBlock:function(t){var e=r.id++;return r.latestBlockNumber&&t(r.latestBlockNumber),r.listeners.block.push({listener:t,id:e}),{unsub:function(){r.listeners.block=r.listeners.block.filter((function(t){return t.id!==e}))}}},onPoll:function(t){var e=r.id++;return r.listeners.poll.push({listener:t,id:e}),{unsub:function(){r.listeners.poll=r.listeners.poll.filter((function(t){return t.id!==e}))}}},onError:function(t){var e=r.id++;return r.listeners.error.push({listener:t,id:e}),{unsub:function(){r.listeners.error=r.listeners.error.filter((function(t){return t.id!==e}))}}},start:function(){return Vt("watcher.start() called"),r.watching=!0,r.ws&&r.ws.readyState!==Gt.OPEN||s.call({state:r,interval:0,resolveFetchPromise:r.initialFetchResolver}),r.initialFetchPromise},stop:function(){Vt("watcher.stop() called"),clearTimeout(r.handler),r.handler=null,clearTimeout(r.wsReconnectHandler),r.wsReconnectHandler=null,r.watching=!1},recreate:function(t,e){if(Vt("watcher.recreate() called"),clearTimeout(r.handler),r.handler=null,clearTimeout(r.wsReconnectHandler),r.wsReconnectHandler=null,r.ws&&o(),r.ws=null,r.config=qt(e),r.model=[].concat(t),r.store={},r.storeTransformed={},r.latestBlockNumber=null,r.cancelPromiseId=r.latestPromiseId,i(),r.watching&&!r.ws){var n,a=new Promise((function(t){n=t}));return s.call({state:r,interval:0,resolveFetchPromise:n}),a}return Promise.resolve()},awaitInitialFetch:function(){return r.initialFetchPromise},get initialFetch(){return r.initialFetchPromise},get schemas(){return r.model}}}export{jt as aggregate,Ht as createWatcher};
//# sourceMappingURL=multicall.esm.mjs.map
